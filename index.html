<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Safe Route Finder</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- AOS (Animate On Scroll) -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />
  <link rel="stylesheet" href="style.css">

  <!-- About page small tweaks (keeps rest unchanged) -->
  <style>
    /* About page specific */
    #page-about .badge { display:inline-block; padding:6px 10px; border-radius:999px; background:rgba(99,102,241,0.12); color:#4f46e5; font-weight:600; font-size:12px; }
    #page-about .feature-card { transition: transform .18s ease, box-shadow .18s ease; }
    #page-about .feature-card:hover { transform: translateY(-6px); box-shadow: 0 12px 30px rgba(15,23,42,0.12); }
    #page-about .team-avatar { width:56px; height:56px; border-radius:999px; display:inline-flex; align-items:center; justify-content:center; font-weight:700; color:white; }
    #page-about .stat-num { font-variant-numeric: tabular-nums; font-weight:800; font-size:28px; }
    #page-about .contact-input { border:1px solid #e6e6f7; padding:.6rem .75rem; border-radius:8px; }
  </style>
</head>
<body class="bg-slate-50 text-slate-800">
  <div id="app" class="flex flex-col min-h-screen">

    <!-- Top nav -->
<header class="bg-gradient-to-r from-indigo-600 to-indigo-400 text-white p-4 shadow-md">
  <div class="max-w-6xl mx-auto flex items-center justify-between">
    <div class="flex items-center gap-4">
      <!-- logo (transparent PNG / SVG) -->
      <div class="logo-wrap w-12 h-12 flex-shrink-0">
        <img src="logo.png" alt="Suraksha Sathi" class="logo-img" />
      </div>

      <div>
        <div class="text-lg font-semibold leading-tight">Suraksha Sathi</div>
        <div class="text-sm opacity-90 -mt-0.5">Because Every Journey Deserves Safety</div>
      </div>

      <!-- nav (visible on md+) -->
      <nav class="ml-8 space-x-3 hidden md:flex items-center">
        <a href="#home" data-nav class="text-sm px-3 py-1 rounded hover:bg-white/10">Home</a>
        <a href="#route" data-nav class="text-sm px-3 py-1 rounded hover:bg-white/10">Route Finder</a>
        <a href="#community" data-nav class="text-sm px-3 py-1 rounded hover:bg-white/10">Community</a>
        <a href="#about" data-nav class="text-sm px-3 py-1 rounded hover:bg-white/10">About</a>
      </nav>
    </div>

    <div class="flex items-center gap-3">
      <button id="btnSOS" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg font-semibold shadow-md">SOS</button>
      <button id="btnReport" class="bg-white text-indigo-600 px-4 py-2 rounded-lg font-semibold shadow-sm">Report Area</button>
      <!-- mobile nav toggle (optional) -->
       <!-- NEW: Login / Signup -->
      <!-- <a href="login.html" class="ml-3 px-4 py-2 bg-white/10 border border-white/20 rounded-md text-sm hover:bg-white/12">Login / Signup</a> -->
       <div id="navAuth" class="ml-3"></div>
    </div>
  </div>
</header>

    <!-- Full-bleed Home background (placed outside main so gradient spans full width) -->
    <section id="page-home" class="fade visible-page bg-gradient-to-br from-indigo-600 to-pink-500 text-white py-16">
      <div class="max-w-6xl mx-auto px-4">
        <!-- HERO -->
        <div class="grid lg:grid-cols-2 gap-8 items-center">
          <div data-aos="fade-right">
            <h1 class="text-3xl lg:text-4xl font-extrabold leading-tight">Empowering Women with Smart, Safe Routes â€” Anytime, Anywhere.</h1>
            <p class="mt-4 text-indigo-100 max-w-xl">Find safer paths home using community reports, live safety insights and instant SOS alerts. Built by students â€” for a safer tomorrow.</p>
            <div class="mt-6 flex flex-wrap gap-3">
              <a href="#route" data-nav class="inline-flex items-center gap-2 bg-white text-indigo-600 px-4 py-2 rounded-md font-semibold shadow hover:scale-105 transform transition">Find Safe Routes</a>
              <button id="homeReportBtn" class="inline-flex items-center gap-2 border border-white/70 px-4 py-2 rounded-md font-medium hover:bg-white/10 transition">Report an Unsafe Area</button>
            </div>
            <div class="mt-6 flex gap-6 text-sm opacity-90">
              <div>ğŸŒ <strong>120+</strong> safe reports</div>
              <div>ğŸšº Designed by women</div>
              <div>ğŸ•’ Real-time updates</div>
            </div>
          </div>

          <div data-aos="zoom-in" class="relative">
            <div id="home-mini-map" class="rounded-lg shadow-lg" style="height:260px; min-height:180px;"></div>
          </div>
        </div>

        <!-- FEATURES -->
        <div class="bg-white/10 px-6 py-10 mt-10 rounded-lg">
          <div>
            <h2 class="text-xl font-semibold text-white mb-4" data-aos="fade-up">What we offer</h2>
            <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
              <div class="p-4 bg-white/90 rounded-lg transform transition hover:scale-105" data-aos="fade-up" data-aos-delay="50">
                <div class="text-2xl">ğŸ—ºï¸</div>
                <h3 class="font-semibold mt-2 text-indigo-900">Safe Route Finder</h3>
                <p class="text-sm text-slate-700 mt-1">Suggests safest routes using real-time safety data.</p>
              </div>
              <div class="p-4 bg-white/90 rounded-lg transform transition hover:scale-105" data-aos="fade-up" data-aos-delay="100">
                <div class="text-2xl">ğŸš¨</div>
                <h3 class="font-semibold mt-2 text-indigo-900">SOS Panic Button</h3>
                <p class="text-sm text-slate-700 mt-1">Instantly notifies emergency contacts.</p>
              </div>
              <div class="p-4 bg-white/90 rounded-lg transform transition hover:scale-105" data-aos="fade-up" data-aos-delay="150">
                <div class="text-2xl">ğŸ’¬</div>
                <h3 class="font-semibold mt-2 text-indigo-900">Community Reports</h3>
                <p class="text-sm text-slate-700 mt-1">Share and view safety alerts near you.</p>
              </div>
              <div class="p-4 bg-white/90 rounded-lg transform transition hover:scale-105" data-aos="fade-up" data-aos-delay="200">
                <div class="text-2xl">ğŸ”’</div>
                <h3 class="font-semibold mt-2 text-indigo-900">Privacy First</h3>
                <p class="text-sm text-slate-700 mt-1">Your data is always secure and encrypted.</p>
              </div>
            </div>

            <!-- Why + Stats -->
            <div class="mt-8 grid lg:grid-cols-2 gap-6 items-center">
              <div data-aos="fade-right">
                <h3 class="text-lg font-semibold text-white">Why Womenâ€™s Safety Matters</h3>
                <p class="mt-3 text-indigo-100">Every woman deserves to move freely without fear. Safe Route Finder is built by students who believe technology can make our streets safer â€” one route at a time.</p>
                <ul class="mt-4 text-sm text-indigo-100 space-y-2">
                  <li>ğŸŒ 120+ safe reports logged</li>
                  <li>ğŸšº Designed by women, for women</li>
                  <li>ğŸ•’ Real-time updates and SOS alerts</li>
                </ul>
              </div>
              <div data-aos="fade-left" class="grid grid-cols-3 gap-3">
                <div class="p-4 bg-white/90 rounded-lg text-center">
                  <div class="text-2xl font-bold text-indigo-900">1,245</div>
                  <div class="text-xs text-slate-700">Safe Routes</div>
                </div>
                <div class="p-4 bg-white/90 rounded-lg text-center">
                  <div class="text-2xl font-bold text-indigo-900">320</div>
                  <div class="text-xs text-slate-700">Areas Reported</div>
                </div>
                <div class="p-4 bg-white/90 rounded-lg text-center">
                  <div class="text-2xl font-bold text-indigo-900">42</div>
                  <div class="text-xs text-slate-700">SOS Alerts</div>
                </div>
              </div>
            </div>

            <!-- Safety Tips Carousel -->
            <div class="mt-8" data-aos="fade-up">
              <h4 class="text-sm font-semibold text-white mb-3">Safety Tips for Women</h4>
              <div id="homeTips" class="bg-white/90 rounded-lg p-4 relative overflow-hidden">
                <div class="tip text-indigo-900 text-sm">Always share your live location with a trusted contact.</div>
                <div class="tip hidden text-indigo-900 text-sm">Avoid poorly lit streets at night â€” prefer main roads.</div>
                <div class="tip hidden text-indigo-900 text-sm">Keep emergency numbers and SOS tools easily accessible.</div>
                <div class="absolute right-3 bottom-3 flex gap-2">
                  <button id="homeTipPrev" class="px-2 py-1 rounded bg-indigo-50 text-indigo-700 text-xs">Prev</button>
                  <button id="homeTipNext" class="px-2 py-1 rounded bg-indigo-600 text-white text-xs">Next</button>
                </div>
              </div>
            </div>

            <!-- Testimonials -->
            <div class="mt-8 grid md:grid-cols-3 gap-4">
              <div class="p-4 bg-white/90 rounded-lg" data-aos="fade-up">
                <p class="text-sm text-indigo-900">â€œThis app helped me find a safer path home after work â€” it really works!â€</p>
                <div class="mt-2 text-xs font-medium text-indigo-900">â€” Aditi, Student</div>
              </div>
              <div class="p-4 bg-white/90 rounded-lg" data-aos="fade-up" data-aos-delay="100">
                <p class="text-sm text-indigo-900">â€œCommunity reports made me aware of a risky spot near my college.â€</p>
                <div class="mt-2 text-xs font-medium text-indigo-900">â€” Meera</div>
              </div>
              <div class="p-4 bg-white/90 rounded-lg" data-aos="fade-up" data-aos-delay="200">
                <p class="text-sm text-indigo-900">â€œSOS alert notified my family instantly â€” lifesaving feature.â€</p>
                <div class="mt-2 text-xs font-medium text-indigo-900">â€” Riya</div>
              </div>
            </div>

            <!-- CTA -->
            <div class="mt-8 text-center">
              <a href="#route" data-nav class="inline-block bg-white text-indigo-600 px-4 py-2 rounded-md font-semibold mr-2">Find Safe Routes</a>
              <a href="#community" data-nav class="inline-block border border-white/80 px-4 py-2 rounded-md text-white">View Community Reports</a>
            </div>

          </div>
        </div>

      </div>
    </section>

    <!-- Pages container (other pages remain inside main) -->
    <main class="max-w-6xl mx-auto w-full flex-1 p-4">
      <!-- Route Finder -->
      <section id="page-route" class="mt-4 fade hidden-page">
        <div class="flex flex-col md:flex-row gap-4">
          <!-- Left: Map -->
          <div class="flex-1 rounded-lg overflow-hidden shadow-md bg-white p-4">
            <div id="map"></div>
            <!-- <div id="mapNotice" class="mt-3 text-xs text-slate-500">Maps provided by OpenStreetMap. Routes from OSRM (demo).</div> -->
          </div>

          <!-- Right: Panel -->
          <aside class="w-full md:w-96 lg:w-80 flex flex-col gap-4">
            <div class="bg-white p-4 rounded-lg shadow-md">
              <label class="block text-sm font-medium text-slate-600">Start</label>
              <div class="relative">
                <input id="startInput" class="mt-2 w-full px-3 py-2 border rounded-md" placeholder="e.g., Chitkara University, Punjab" />
              </div>
              <label class="block text-sm font-medium text-slate-600 mt-3">Destination</label>
              <div class="relative">
                <input id="endInput" class="mt-2 w-full px-3 py-2 border rounded-md" placeholder="e.g., Elante Mall, Chandigarh" />
              </div>

              <div class="flex gap-2 mt-4">
                <button id="btnFind" class="flex-1 bg-indigo-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-indigo-700">Find Safe Routes</button>
                <button id="btnCenter" title="Center map" class="bg-white border px-3 py-2 rounded-md">Center</button>
              </div>

              <!-- <p class="text-xs text-slate-500 mt-2">Using OpenStreetMap + OSRM. Community reports & safety layers are realtime (Firebase or local fallback).</p> -->
            </div>

            <div id="routesBox" class="bg-white p-4 rounded-lg shadow-md overflow-auto max-h-96">
              <div class="flex items-center justify-between mb-3">
                <div class="font-semibold">Available routes</div>
                <div class="text-sm text-slate-500">Tap a route to select</div>
              </div>
              <div id="routesList" class="space-y-3">
                <!-- route items -->
              </div>
            </div>

            <div class="bg-white p-4 rounded-lg shadow-md">
              <div class="flex items-center justify-between">
                <div>
                  <div class="text-sm text-slate-500">Realtime reports</div>
                  <div class="font-semibold">Community Feed</div>
                </div>
                <div id="reportsCount" class="text-indigo-600 font-semibold">0</div>
              </div>
              <div id="feedList" class="mt-3 space-y-2 text-sm text-slate-700 max-h-40 overflow-auto">
                <!-- reports -->
              </div>
            </div>
          </aside>
        </div>
      </section>

      <!-- Community page -->
      <section id="page-community" class="mt-4 fade hidden-page">
        <div class="bg-white p-6 rounded-md shadow-md">
          <h2 class="font-semibold">Community</h2>
          <p class="mt-2 text-slate-600">See and submit reports from the community. Reports appear on the map and in the feed.</p>
          <div class="mt-4">
            <button id="btnOpenReport" class="px-4 py-2 bg-indigo-600 text-white rounded-md">Report Area</button>
          </div>
        </div>
      </section>

      <!-- About / Help (REPLACED WITH RICH LAYOUT) -->
      <section id="page-about" class="mt-4 fade hidden-page">
        <div class="grid gap-8">

          <!-- 1. Hero Section (Top Introduction) -->
          <div class="bg-gradient-to-r from-indigo-600 to-indigo-500 text-white rounded-lg p-8" data-aos="fade-up">
            <div class="max-w-4xl">
              <span class="badge">About</span>
              <h2 class="text-2xl font-extrabold mt-3">Suraksha Sathi â€” Safer journeys for women</h2>
              <p class="mt-3 text-indigo-100">We combine community reports, live safety insights and instant SOS to help women choose safer routes. Simple, reliable and community-driven.</p>
              <div class="mt-4 flex gap-3">
                <a href="#route" data-nav class="px-4 py-2 bg-white text-indigo-600 rounded-md font-semibold">Find Safe Routes</a>
                <a href="#community" data-nav class="px-4 py-2 border border-white/40 text-white rounded-md">View Reports</a>
              </div>
            </div>
          </div>

          <!-- 2. Our Mission & Vision -->
          <div class="grid md:grid-cols-2 gap-4" data-aos="fade-up" data-aos-delay="60">
            <div class="p-6 rounded-lg border shadow-sm bg-white">
              <h3 class="font-semibold text-indigo-700">Our Mission</h3>
              <p class="mt-2 text-sm text-slate-600">Help women travel confidently by providing route suggestions that prioritise safety using community and map data.</p>
              <ul class="mt-3 text-sm space-y-2 text-slate-600">
                <li>â€¢ Real-time community reporting</li>
                <li>â€¢ Safety scoring for routes</li>
                <li>â€¢ Easy SOS and help features</li>
              </ul>
            </div>

            <div class="p-6 rounded-lg border shadow-sm bg-white">
              <h3 class="font-semibold text-indigo-700">Our Vision</h3>
              <p class="mt-2 text-sm text-slate-600">A world where public spaces feel safe for everyone â€” starting with smarter, safer ways home.</p>
              <div class="mt-3 text-sm text-slate-600">
                <strong class="text-indigo-600">Long-term:</strong> integrate with local authorities & public lighting data.
              </div>
            </div>
          </div>

          <!-- 3. Our Story / Inspiration -->
          <div class="p-6 rounded-lg bg-indigo-50" data-aos="fade-up" data-aos-delay="120">
            <h3 class="font-semibold text-indigo-800">Our Story</h3>
            <p class="mt-2 text-sm text-indigo-700">Suraksha Sathi began as a hackathon project: students who felt unsafe walking home wanted a simple tool to surface safer paths. We built a prototype, tested with peers and iterated based on real feedback from the community.</p>
            <div class="mt-3 text-sm text-slate-600">Judges praised the clarity and real-world utility â€” we focused on reliability and ease of reporting.</div>
          </div>

          <!-- 4. Key Features / What We Offer -->
          <div data-aos="fade-up" class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
            <div class="p-4 rounded-lg border bg-white shadow-sm text-center feature-card">
              <div class="text-3xl">ğŸ—ºï¸</div>
              <div class="font-semibold mt-3">Safe Routes</div>
              <div class="text-sm text-slate-600 mt-1">Route suggestions ranked by safety score.</div>
            </div>
            <div class="p-4 rounded-lg border bg-white shadow-sm text-center feature-card">
              <div class="text-3xl">ğŸš¨</div>
              <div class="font-semibold mt-3">SOS Alerts</div>
              <div class="text-sm text-slate-600 mt-1">Quickly notify contacts and log location.</div>
            </div>
            <div class="p-4 rounded-lg border bg-white shadow-sm text-center feature-card">
              <div class="text-3xl">ğŸ“£</div>
              <div class="font-semibold mt-3">Community Reports</div>
              <div class="text-sm text-slate-600 mt-1">Submit and view reported areas on the map.</div>
            </div>
            <div class="p-4 rounded-lg border bg-white shadow-sm text-center feature-card">
              <div class="text-3xl">ğŸ”’</div>
              <div class="font-semibold mt-3">Privacy</div>
              <div class="text-sm text-slate-600 mt-1">We keep user data safe and minimal.</div>
            </div>
          </div>

          <!-- 5. Meet the Team -->
          <div data-aos="fade-up" class="bg-white p-6 rounded-lg border shadow-sm">
            <h3 class="font-semibold text-indigo-700">Meet the Team</h3>
            <p class="text-sm text-slate-600 mt-2">Hackathon team behind Suraksha Sathi</p>
            <div class="mt-4 grid grid-cols-2 sm:grid-cols-4 gap-4">
              <div class="flex items-center gap-3">
                <div class="team-avatar bg-indigo-600">SJ</div>
                <div>
                  <div class="font-semibold">Shreya Janweja</div>
                  <div class="text-xs text-slate-500">Frontend</div>
                </div>
              </div>
              <div class="flex items-center gap-3">
                <div class="team-avatar bg-pink-500">SB</div>
                <div>
                  <div class="font-semibold">Srishti Bansal</div>
                  <div class="text-xs text-slate-500">UX / Research</div>
                </div>
              </div>
              <div class="flex items-center gap-3">
                <div class="team-avatar bg-emerald-500">SJ</div>
                <div>
                  <div class="font-semibold">Sejal Jain</div>
                  <div class="text-xs text-slate-500">Backend</div>
                </div>
              </div>
            </div>
          </div>

          <!-- 6. Impact / Stats Section -->
          <div class="grid sm:grid-cols-3 gap-4" data-aos="fade-up" data-aos-delay="140">
            <div class="p-6 rounded-lg bg-gradient-to-br from-indigo-600 to-indigo-500 text-white text-center">
              <div class="stat-num" data-target="1245">1,245</div>
              <div class="mt-2 text-sm">Safe Routes Suggested</div>
            </div>
            <div class="p-6 rounded-lg bg-gradient-to-br from-pink-500 to-pink-400 text-white text-center">
              <div class="stat-num" data-target="320">320</div>
              <div class="mt-2 text-sm">Areas Reported</div>
            </div>
            <div class="p-6 rounded-lg bg-gradient-to-br from-emerald-500 to-emerald-400 text-white text-center">
              <div class="stat-num" data-target="42">42</div>
              <div class="mt-2 text-sm">SOS Alerts</div>
            </div>
          </div>

          <!-- 8. Contact or Join Us -->
          <div class="p-6 rounded-lg bg-white border shadow-sm" data-aos="fade-up" data-aos-delay="160">
            <div class="grid md:grid-cols-2 gap-6 items-center">
              <div>
                <h4 class="font-semibold text-indigo-700">Join us / Contact</h4>
                <p class="text-sm text-slate-600 mt-2">Want to help, test or integrate? Drop a message â€” weâ€™ll get back.</p>
                <div class="mt-4">
                  <a href="mailto:hello@surakshasathi.example" class="px-4 py-2 bg-indigo-600 text-white rounded-md">Email Us</a>
                  <button id="joinVolunteer" class="ml-3 px-4 py-2 border rounded-md">Volunteer</button>
                </div>
              </div>
              <form id="contactForm" class="p-4 bg-slate-50 rounded-md">
                <input name="name" placeholder="Your name" class="w-full contact-input mb-2" />
                <input name="email" placeholder="Email" class="w-full contact-input mb-2" />
                <textarea name="msg" rows="3" placeholder="Message" class="w-full contact-input mb-2"></textarea>
                <div class="text-right">
                  <button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded-md">Send</button>
                </div>
              </form>
            </div>
          </div>

        </div>
      </section>
    </main>

    <!-- Polished single footer (keep only this) -->
    <footer class="w-full bg-gradient-to-r from-indigo-700 to-indigo-600 text-white mt-12">
      <div class="max-w-6xl mx-auto px-6 py-10 grid gap-6 md:grid-cols-4">
        <div>
          <div class="text-lg font-semibold">Suraksha Sathi</div>
          <p class="text-sm mt-2 text-indigo-100">Empowering safe mobility for women using community reports, live insights and SOS alerts.</p>
          <div class="text-xs text-indigo-200 mt-4">Built by students â€¢ Demo Prototype</div>
        </div>
        <div>
          <div class="font-semibold mb-2">Quick links</div>
          <ul class="space-y-1 text-sm">
            <li><a data-nav href="#home" class="footer-link">Home</a></li>
            <li><a data-nav href="#route" class="footer-link">Route Finder</a></li>
            <li><a data-nav href="#community" class="footer-link">Community</a></li>
            <li><a data-nav href="#about" class="footer-link">About</a></li>
          </ul>
        </div>
        <div>
          <div class="font-semibold mb-2">Resources</div>
          <ul class="space-y-1 text-sm">
            <li><a href="https://www.openstreetmap.org" target="_blank" class="footer-link">OpenStreetMap</a></li>
            <li><a href="https://project-osrm.org" target="_blank" class="footer-link">OSRM routing</a></li>
            <li><a href="#" class="footer-link">Privacy & Terms</a></li>
          </ul>
        </div>
        <div>
          <div class="font-semibold mb-2">Contact</div>
          <div class="text-sm text-indigo-100">Email: <a href="mailto:hello@surakshasathi.example" class="footer-link">hello@surakshasathi.example</a></div>
          <div class="text-sm text-indigo-100 mt-2">Phone: <a href="tel:+911234567890" class="footer-link">+91 12345 67890</a></div>
          <div class="flex gap-2 mt-3">
            <a class="footer-social" href="#" aria-label="Twitter">ğŸ¦</a>
            <a class="footer-social" href="#" aria-label="Instagram">ğŸ“¸</a>
            <a class="footer-social" href="#" aria-label="LinkedIn">ğŸ”—</a>
          </div>
        </div>
      </div>

      <div class="border-t border-indigo-600/50">
        <div class="max-w-6xl mx-auto px-6 py-3 flex flex-col md:flex-row items-center justify-between text-xs text-indigo-200">
          <div>Â© <span id="year"></span> Suraksha Sathi â€” All rights reserved</div>
          <div class="mt-2 md:mt-0">Made with â¤ï¸</div>
        </div>
      </div>
    </footer>

    <!-- Floating buttons -->
    <button id="backToTop" title="Back to top" class="fixed bottom-6 right-20 z-40 bg-white text-indigo-600 px-3 py-3 rounded-full shadow-lg opacity-0 transition-opacity" aria-hidden="true">â†‘</button>
    <button id="chatBtn" title="Chat with us" class="fixed bottom-6 right-6 z-50 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-3 rounded-full shadow-lg flex items-center gap-2">ğŸ’¬ Chat</button>
  </div>

  <!-- Modals (Report + SOS confirmation + Chat) -->
  <div id="modalRoot"></div>

  <!-- Leaflet + Routing Machine (load before map init) -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.min.js"></script>

  <!-- Firebase (v9 compat CDN for quick setup) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <script src="main.js"></script>
  <script>try{ AOS && AOS.init && AOS.init({ once:true }); }catch(e){}</script>


  <script>
(function(){
  function el(id){ return document.getElementById(id); }
  function escapeHtml(s){ return String(s||'').replace(/[&<>"']/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }
  const nav = el('navAuth'); if(!nav) return;
  const user = JSON.parse(localStorage.getItem('authUser')||'null');
  if(user){
    nav.innerHTML = `<a href="profile.html" class="inline-flex items-center gap-2 bg-white/10 px-3 py-1 rounded text-sm">${escapeHtml(user.username||user.email)}</a>
                     <button id="logoutBtn" class="ml-2 px-3 py-1 rounded bg-white/10 text-sm">Logout</button>`;
    el('logoutBtn') && el('logoutBtn').addEventListener('click', ()=>{ localStorage.removeItem('authUser'); location.reload(); });
  } else {
    nav.innerHTML = `<a href="login.html" class="ml-3 px-4 py-2 bg-white/10 rounded-md text-sm">Login / Signup</a>`;
  }
})();
</script>
</body>
</html>